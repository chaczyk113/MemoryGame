(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e){e.exports={gameFieldSize:1e3,lvlRange:[{size:8,cols:4},{size:8,cols:4},{size:8,cols:4},{size:8,cols:4},{size:8,cols:4},{size:8,cols:4}],lvlGroups:2,reverseTime:[500,800,1200,2300,3400,4e3],lvlChances:[-1,-1,-1,1,2,3],cardColors:["#f03e3e","#12b886","#228be6","#495057"],reverseIcon:"flag",icons:["truck-monster","space-shuttle","dove","user-astronaut","quidditch","coffee","beer","skull","bomb","bell","bullhorn","comments","copy","cut","dice-five","eye","gamepad","globe-americas","grin-tears","grin-beam","hourglass-half","map-marked-alt","dice-two","pizza-slice","robot","shopping-basket","thumbs-up","users","kiss-wink-heart"]}},,,,,,,function(e,t,a){},,,,function(e,t,a){e.exports=a(30)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var l=a(0),r=a.n(l),n=a(10),s=a.n(n),c=(a(18),a(2)),i=a(3),o=a(4),m=a(6),d=a(5),u=a(7),v=(a(19),a(20),a(8),function(e){return r.a.createElement("div",{className:"Button"},r.a.createElement("a",{href:e.address},r.a.createElement("div",{className:"header-btn"},e.children)))}),p=function(){return r.a.createElement("div",{className:"Header"},r.a.createElement("h1",null,"Memory game"),r.a.createElement("h2",null,"with Font Awesome"),r.a.createElement(v,{address:"#Menu"},r.a.createElement("i",{className:"far fa-play-circle"})," Start fun!"),r.a.createElement("div",{className:"scale"},r.a.createElement("a",{className:"link",href:"https://fontawesome.com"},"Learn more")))},h=(a(21),a(22),function(e){var t="ButtonGroup",a=null;return e.scoreList&&(t+=" scoreList",a=r.a.createElement("h3",null,"Games played: ".concat(e.played))),r.a.createElement("div",{className:t},r.a.createElement("h3",null,e.header),r.a.createElement("div",{className:"Buttons-row"},e.children),a)}),f=(a(23),function(e){var t=e.gameScore;return r.a.createElement("div",{className:"LvlScore"},r.a.createElement("p",null,"Last: "),r.a.createElement("p",null,r.a.createElement("b",null,t.last)),r.a.createElement("p",null,"Top: "),r.a.createElement("p",null,r.a.createElement("b",null,t.top)))}),g=function(e){var t="";return e.isGameVisible&&e.gameLvl===e.level&&(t="buttonPressed"),r.a.createElement("button",{className:"ActionButton "+t,disabled:e.locked,onClick:function(t){e.click(e.level,t)},title:e.title},r.a.createElement("a",{href:"#Game"},e.locked?r.a.createElement("div",{className:"Locked"},r.a.createElement("i",{className:"fas fa-lock"})):r.a.createElement("div",{className:"ScrollableContent"},r.a.createElement("span",null,e.children),r.a.createElement("span",{style:{fontSize:"16px"}},e.description))))},E=a(1),k=function(e){var t=!1;return"left"===e.direction&&0===e.lvlGroup&&(t=!0),"right"===e.direction&&e.lvlGroup===E.lvlGroups-1&&(t=!0),r.a.createElement("button",{className:"ArrowBtn",disabled:t,onClick:function(t){e.arrowClick(e.direction,t)}},r.a.createElement("i",{className:"fas fa-caret-"+e.direction}))},C=function(e){var t=e.lvlButtonClick,a=e.gameScore,l=e.gameProgress,n=e.gameLvl,s=e.lvlGroup,c=e.isGameVisible,i=e.arrowClick,o=(0===s?[{des:"Easy",lvl:0,text:"1"},{des:"Medium",lvl:1,text:"2"},{des:"Hard",lvl:2,text:"3"}]:[{des:"Brutal",lvl:3,text:"4"},{des:"Nightmare",lvl:4,text:"5"},{des:"Hell",lvl:5,text:"6"}]).map(function(e,a){return r.a.createElement(g,{key:a,description:e.des,click:t,gameLvl:n,isGameVisible:c,level:e.lvl,locked:!(e.lvl<=l)},e.text)}),m=r.a.createElement(r.a.Fragment,null,"Your score (clicks)");return 3===n&&(m=r.a.createElement(r.a.Fragment,null,"Your score (matches)")),r.a.createElement("div",{id:"Menu",className:"Menu"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(h,{header:"Choose level"},r.a.createElement(k,{direction:"left",lvlGroup:s,arrowClick:i}),o,r.a.createElement(k,{direction:"right",lvlGroup:s,arrowClick:i})),r.a.createElement(h,{header:m,scoreList:!0,played:a.played},r.a.createElement(f,{gameLvl:n,gameScore:a}))))},S=(a(24),a(25),function(e){var t=e.size,a=e.isReversed,l=e.cardIcon,n=e.cardColor,s=e.id,c=e.cardClick,i={width:t,height:t},o={backgroundColor:n},m={fontSize:.55*t},d="Card";return a&&(d+=" flipped"),r.a.createElement("div",{className:"cardContainer",style:i,onClick:function(e){return c(s,e)}},r.a.createElement("div",{className:d},r.a.createElement("div",{className:"front",style:o},r.a.createElement("i",{className:"fas fa-"+l,style:m})),r.a.createElement("div",{className:"back",style:o},r.a.createElement("i",{className:"fas fa-"+E.reverseIcon,style:m}))))}),b=a(11),N=(a(26),function(e){for(var t={height:.75*e.size,top:-(e.size-.75*e.size)/2-.75*e.size},a={color:e.color,fontSize:.75*e.size,opacity:"0"},l=[],n=0;n<3;n++)3-n<=e.chances?a.opacity="1":a.opacity="0",l.push(r.a.createElement("i",{key:n,className:"fas fa-heart",style:Object(b.a)({},a)}));return r.a.createElement("div",{className:"GameLives",style:t},l)}),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={cardsObj:[],reversedCards:[],matchedCouples:0,clickCounter:0,isStarted:!1},a.buttonLocker=!1,a.actualChances=-1,a.chanceSize=0,a.cardColor=E.cardColors[0],a.cardSize=200,a.randomIcons=function(e){for(var t=e.cardsIds,a=e.newCardsObj,l=Object(c.a)(E.icons);t.length>0;){console.log("randomize");var r=Math.floor(Math.random()*l.length),n=l.splice(r,1)[0];a[t.splice(Math.floor(Math.random()*t.length),1)[0]]={icon:n,isReversed:!1},a[t.splice(Math.floor(Math.random()*t.length),1)]={icon:n,isReversed:!1}}return a},a.cardClickHandler=function(e){if(!a.buttonLocker&&a.state.cardsObj[e].isReversed){a.buttonLocker=!0;var t=Object(c.a)(a.state.reversedCards),l=Object(c.a)(a.state.cardsObj),r=a.state.matchedCouples,n=a.state.clickCounter,s=!1;l[e].isReversed=!1,n++,0===t.length?t[0]=e:(t[1]=e,l[e].icon===l[t[0]].icon?(console.log("paired"),t=[],++r===E.lvlRange[a.props.lvl].size/2&&(a.props.lvl<3?a.props.endGame(n):a.props.endGame(r))):(a.actualChances--,a.props.lvl<3||a.actualChances>0?setTimeout(function(){l[t[0]].isReversed=!0,l[t[1]].isReversed=!0,t=[],a.setState({cardsObj:l,reversedCards:t}),a.buttonLocker=!1},600):(a.props.endGame(r),s=!0))),a.setState({cardsObj:l,reversedCards:t,matchedCouples:r,clickCounter:n},function(){s?setTimeout(function(){a.reverseAllCards(),setTimeout(function(){a.startNewGame(a.props.lvl,!1),a.buttonLocker=!1},600)},600):t.length<2&&(a.buttonLocker=!1)})}},a.prepareNewGame=function(e){var t=E.lvlRange[e].size,l=E.lvlRange[e].cols,r=t/l;a.cardColor=E.cardColors[Math.floor(Math.random()*E.cardColors.length)],a.cardSize=(a.props.gameAreaSize.width-10*(parseInt(l)-1))/parseInt(l),a.chanceSize=(a.props.gameAreaSize.height-(r*a.cardSize+10*(r-1)))/2,console.log(a.chanceSize);var n=[],s=[];a.actualChances=E.lvlChances[e];for(var c=0;c<t;c++)s.push(c),n.push({icon:"",isReversed:!0});return a.setState({cardsObj:n,clickCounter:0,matchedCouples:0,reversedCards:[]}),{cardsIds:s,newCardsObj:n}},a.startNewGame=function(e){a.props.startGame();var t=a.randomIcons(a.prepareNewGame(e));a.setState({cardsObj:t,clickCounter:0,matchedCouples:0,reversedCards:[]},function(){setTimeout(function(){a.reverseAllCards()},E.reverseTime[e])})},a.reverseAllCards=function(){var e=Object(c.a)(a.state.cardsObj),t=!0,l=!1,r=void 0;try{for(var n,s=e[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){n.value.isReversed=!0}}catch(i){l=!0,r=i}finally{try{t||null==s.return||s.return()}finally{if(l)throw r}}a.setState({cardsObj:e})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.isLvlSelected?this.prepareNewGame(e.lvl):e.isNewGame&&this.startNewGame(e.lvl)}},{key:"componentWillMount",value:function(){this.props.isLvlSelected?this.prepareNewGame(this.props.lvl):this.props.isNewGame&&this.startNewGame(this.props.lvl)}},{key:"render",value:function(){var e=this,t={gridTemplateColumns:"auto ".repeat(E.lvlRange[this.props.lvl].cols)},a=this.state.cardsObj.map(function(t,a){return r.a.createElement(S,{size:e.cardSize,isReversed:t.isReversed,cardIcon:t.icon,cardColor:e.cardColor,key:"".concat(e.props.lvl,"-").concat(a),id:a,cardClick:function(t,a){return e.cardClickHandler(t,a)}})});return r.a.createElement("div",{className:"Game"},r.a.createElement(N,{chances:this.actualChances,color:this.cardColor,size:this.chanceSize}),r.a.createElement("div",{id:"gameWrapper",className:"wrapper",style:t},a))}}]),t}(l.Component),y=(a(27),function(){return r.a.createElement("div",{id:"Game",className:"GamePlaceholder"},r.a.createElement("p",{className:"main"},"Choose level to start a game!"),r.a.createElement("p",null,"Win a given level to unlock the next one."),r.a.createElement("p",null,"Pass three levels to unlock ",r.a.createElement("b",null,"Nigthmare")," mode, ",r.a.createElement("br",null)," where mistakes are not allowed."),r.a.createElement("p",null,"Good luck, have fun! ",r.a.createElement("i",{className:"far fa-smile-wink"})))}),G=(a(28),function(e){return r.a.createElement("div",{className:"Popup"},e.children)}),z=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"WinPopup"},r.a.createElement("p",null,"Winner!"),r.a.createElement("p",null,"Score: ".concat(e.clickCounter," clicks")),e.isNewRecord?r.a.createElement("p",null,r.a.createElement("strong",null,"New Record!")):null),r.a.createElement("div",{className:"winButtons"},r.a.createElement(g,{description:"Reply",click:e.replayClick,level:"0"},r.a.createElement("i",{className:"fas fa-undo-alt"})),e.lvl<5?r.a.createElement(g,{description:"Next level",click:e.nextLvlClick,level:e.lvl+1},r.a.createElement("i",{className:"fas fa-arrow-right"})):null,r.a.createElement(g,{description:"Cancel",click:e.cancelClick,level:"0"},r.a.createElement("i",{className:"fas fa-times"}))))},O=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"WinPopup"},r.a.createElement("p",null,"Start game!")),r.a.createElement("div",{className:"winButtons"},r.a.createElement(g,{description:"Play",click:e.playClick,level:"0"},r.a.createElement("i",{className:"far fa-play-circle"})),r.a.createElement(g,{description:"Cancel",click:e.cancelClick,level:"0"},r.a.createElement("i",{className:"fas fa-times"}))))},L=(a(29),function(e){return r.a.createElement("div",{className:"Footer"},r.a.createElement("p",null,"React practice game project, by JZ."))}),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).VERSION="1.1",a.state={gameState:!1,lvl:0,lvlGroup:0,isNewRecord:!1,isWin:!1,gameScore:[{last:0,top:0,played:0},{last:0,top:0,played:0},{last:0,top:0,played:0},{last:0,top:0,played:0},{last:0,top:0,played:0},{last:0,top:0,played:0}],gameProgress:0,gameAreaSize:{width:0,height:0},gameAreaStyle:{}},a.isGameVisible=!1,a.gameStarted=!1,a.isNewGame=!1,a.isLvlSelected=!1,a.lastScore=0,a.startedGameHandler=function(){a.isNewGame=!1},a.endGameHandler=function(e){a.lastScore=e;var t=Object(c.a)(a.state.gameScore),l=a.state.gameProgress,r=!1,n=!1;t[a.state.lvl].played++,t[a.state.lvl].last=e,a.state.lvl<3&&t[a.state.lvl].top>0&&e<t[a.state.lvl].top?(t[a.state.lvl].top=e,r=!0):0===t[a.state.lvl].top?(t[a.state.lvl].top=e,r=!0):a.state.lvl>=3&&t[a.state.lvl].top>0&&e>t[a.state.lvl].top&&(t[a.state.lvl].top=e,r=!0),a.state.lvl<3?n=!0:e===E.lvlRange[a.state.lvl].size/2&&(n=!0),n&&l<6&&a.state.lvl===l&&l++,a.setState({gameScore:t,gameProgress:l,isNewRecord:r,isWin:n}),"undefined"!==typeof Storage&&(localStorage.setItem("gameScore",JSON.stringify(a.state.gameScore)),localStorage.setItem("gameProgress",l))},a.arrowButtonClickHanlder=function(e){var t=a.state.lvlGroup;"left"===e&&t>0?t--:"right"===e&&t<1&&t++,a.setState({lvlGroup:t})},a.replyClickHandler=function(){var e=a.state.gameState;a.setState({gameState:!e,isWin:!1}),a.isNewGame=!0},a.cancelClickHandler=function(){var e=a.state.gameState;a.setState({gameState:!e}),a.isGameVisible=!1,a.isLvlSelected=!1},a.lvlButtonClickHanlder=function(e){if(!a.isGameVisible||e!==a.state.lvl){var t=a.state.lvlGroup;e>2&&0===t&&t++,a.isGameVisible=!0,a.isLvlSelected=!0,a.setState({lvl:e,lvlGroup:t})}},a.playButtonClickHandler=function(){a.isLvlSelected=!1,a.isNewGame=!0,a.setState({isWin:!1})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=window.innerHeight-150-32,t=1.66*e;if(window.innerWidth<768&&(e=(t=.96*window.innerWidth)/1.66),this.setState({gameAreaSize:{width:t,height:e},gameAreaStyle:{height:e+"px"}}),"undefined"!==typeof Storage){if(console.log(localStorage.getItem("version")===this.VERSION),localStorage.getItem("version")===this.VERSION){var a=parseInt(localStorage.getItem("gameProgress")),l=JSON.parse(localStorage.getItem("gameScore"));a&&l&&this.setState({gameScore:l,gameProgress:a})}else localStorage.clear();localStorage.setItem("version",this.VERSION)}}},{key:"render",value:function(){var e=this,t=null,a=null;return this.isGameVisible&&(t=r.a.createElement(w,{isNewGame:this.isNewGame,isLvlSelected:this.isLvlSelected,lvl:this.state.lvl,gameAreaSize:this.state.gameAreaSize,startGame:this.startedGameHandler,endGame:function(t){return e.endGameHandler(t)}})),this.state.isWin&&(a=r.a.createElement(G,null,r.a.createElement(z,{isNewRecord:this.state.isNewRecord,clickCounter:this.lastScore,replayClick:this.replyClickHandler,cancelClick:this.cancelClickHandler,lvl:this.state.lvl,nextLvlClick:function(t,a){return e.lvlButtonClickHanlder(t,a)}}))),this.isGameVisible||(a=r.a.createElement(y,null)),this.isLvlSelected&&(a=r.a.createElement(G,null,r.a.createElement(O,{playClick:this.playButtonClickHandler,cancelClick:this.cancelClickHandler}))),r.a.createElement("div",{className:"App"},r.a.createElement(p,null),r.a.createElement(C,{gameLvl:this.state.lvl,lvlGroup:this.state.lvlGroup,isGameVisible:this.isGameVisible,gameProgress:this.state.gameProgress,lvlButtonClick:function(t,a){return e.lvlButtonClickHanlder(t,a)},gameScore:this.state.gameScore[this.state.lvl],arrowClick:function(t,a){return e.arrowButtonClickHanlder(t,a)}}),r.a.createElement("div",{id:"Game",className:"gameArea",style:this.state.gameAreaStyle},t,a),r.a.createElement(L,null))}}]),t}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[12,1,2]]]);
//# sourceMappingURL=main.55a8a98a.chunk.js.map